---
title: "Remotionå‹•ç”»è‡ªå‹•ç”Ÿæˆå…¥é–€ â€” Reactã§ä½œã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ–ãƒ«å‹•ç”»"
emoji: "ğŸ¬"
type: "tech"
topics: ["remotion", "react", "typescript", "video"]
published: true
price: 500
---

## ã¯ã˜ã‚ã«

å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®éœ€è¦ãŒçˆ†ç™ºçš„ã«å¢—åŠ ã™ã‚‹ä¸­ã€ã€Œå‹•ç”»ã‚’æ‰‹ä½œæ¥­ã§ç·¨é›†ã™ã‚‹ã€ã¨ã„ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«é™ç•Œã‚’æ„Ÿã˜ã¦ã„ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯å¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

**Remotion**ã¯ã€Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‹•ç”»ã‚’è¨˜è¿°ã—ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ã«MP4/WebMã‚’ç”Ÿæˆã§ãã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ã¤ã¾ã‚Šã€UIã‚’ä½œã‚‹ã®ã¨åŒã˜æ„Ÿè¦šã§å‹•ç”»ã‚’ä½œã‚Œã¾ã™ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€Remotionã®åŸºç¤ã‹ã‚‰å®Ÿè·µçš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¾ã§ã‚’è§£èª¬ã—ã¾ã™ã€‚ç­†è€…ãŒå®Ÿéš›ã«é–‹ç™ºã—ãŸå°†æ£‹æ£‹è­œè§£èª¬å‹•ç”»ã®è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆmirushogiï¼‰ã§ã®çŸ¥è¦‹ã‚‚äº¤ãˆãªãŒã‚‰ã€ã€Œå‹•ç”»ã‚’ã‚³ãƒ¼ãƒ‰ã§ç”Ÿæˆã™ã‚‹ã€ä¸–ç•Œã‚’ä½“é¨“ã—ã¦ã„ãŸã ãã¾ã™ã€‚

**ã“ã®è¨˜äº‹ã§å¾—ã‚‰ã‚Œã‚‹ã“ã¨ï¼š**
- Remotionã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å‹•ç”»å‡ºåŠ›ã¾ã§ã®ä¸€é€£ã®æµã‚Œ
- å†åˆ©ç”¨å¯èƒ½ãªã‚·ãƒ¼ãƒ³è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯
- å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‹•ç”»ã‚’å‹•çš„ç”Ÿæˆã™ã‚‹æ–¹æ³•
- å®Ÿãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ã®å®Ÿè·µçŸ¥è¦‹ã¨ãƒãƒã‚Šã©ã“ã‚

## 1. Remotionã¨ã¯ â€” ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ–ãƒ«å‹•ç”»ã®æ¦‚å¿µ

### å¾“æ¥ã®å‹•ç”»åˆ¶ä½œã¨ã®é•ã„

å¾“æ¥ã®å‹•ç”»åˆ¶ä½œãƒ„ãƒ¼ãƒ«ï¼ˆPremiere Proã€After Effectsã€DaVinci Resolveãªã©ï¼‰ã¯GUIãƒ™ãƒ¼ã‚¹ã§ã€1æœ¬1æœ¬ã‚’æ‰‹ä½œæ¥­ã§ç·¨é›†ã—ã¾ã™ã€‚ã“ã‚Œã¯å°‘æ•°ã®å‹•ç”»ã«ã¯é©ã—ã¦ã„ã¾ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã§ã¯ç ´ç¶»ã—ã¾ã™ã€‚

- **åŒã˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å‹•ç”»ã‚’å¤§é‡ç”Ÿæˆ**ã—ãŸã„ï¼ˆãƒ‹ãƒ¥ãƒ¼ã‚¹ã€ãƒ¬ãƒãƒ¼ãƒˆã€è§£èª¬ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦å‹•çš„ã«å†…å®¹ãŒå¤‰ã‚ã‚‹**å‹•ç”»ã‚’ä½œã‚ŠãŸã„
- **CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ã«å‹•ç”»ç”Ÿæˆã‚’çµ„ã¿è¾¼ã¿ãŸã„
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**ã—ãŸã„ï¼ˆGitã§diffãŒè¦‹ãˆã‚‹ï¼ï¼‰

Remotionã¯ã“ã‚Œã‚‰ã®èª²é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚

### Remotionã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

Remotionã®æ ¸ã¨ãªã‚‹è€ƒãˆæ–¹ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ï¼š

> **å‹•ç”» = ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é›†åˆ**

```
ãƒ•ãƒ¬ãƒ¼ãƒ 0 â†’ Reactãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ PNG â†’ â”
ãƒ•ãƒ¬ãƒ¼ãƒ 1 â†’ Reactãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ PNG â†’ â”œâ†’ ffmpeg â†’ MP4
ãƒ•ãƒ¬ãƒ¼ãƒ 2 â†’ Reactãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ PNG â†’ â”˜
...
```

å„ãƒ•ãƒ¬ãƒ¼ãƒ ã¯Headless Chromiumä¸Šã§Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®å½±ã€‚ãã‚Œã‚‰ã‚’ffmpegã§çµåˆã—ã¦MP4ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€**CSSãŒä½¿ãˆã‚‹å ´æ‰€ãªã‚‰ãªã‚“ã§ã‚‚å‹•ç”»ã«ã§ãã‚‹**ã®ã§ã™ã€‚

### Remotionã®ä¸»ãªç‰¹å¾´

| ç‰¹å¾´ | èª¬æ˜ |
|------|------|
| Reactãƒ™ãƒ¼ã‚¹ | JSX/TSXã§å‹•ç”»ã‚’è¨˜è¿°ã€‚æ—¢å­˜ã®Reactã‚¹ã‚­ãƒ«ãŒãã®ã¾ã¾æ´»ã‹ã›ã‚‹ |
| TypeScriptå¯¾å¿œ | å‹å®‰å…¨ãªå‹•ç”»é–‹ç™ºã€‚å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚‚å‹å®šç¾©å¯èƒ½ |
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‚ã‚·ãƒ¼ã‚¯ãƒãƒ¼ã§ä»»æ„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã«ç§»å‹• |
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ– | inputPropsã§å‹•ç”»ã®å†…å®¹ã‚’å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ã€‚åŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ç•°ãªã‚‹å‹•ç”»ã‚’ç”Ÿæˆ |
| Lambdaå¯¾å¿œ | AWS Lambdaä¸Šã§ã®åˆ†æ•£ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§å¤§é‡ç”Ÿæˆã«ã‚‚å¯¾å¿œ |

## 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— â€” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã€åŸºæœ¬æ§‹æˆ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

```bash
# Remotionãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ä½œæˆ
npx create-video@latest my-video

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd my-video

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆRemotion Studioï¼‰
npx remotion studio
```

`npx remotion studio`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ–ãƒ©ã‚¦ã‚¶ã«Remotionã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ï¼ˆRemotion Studioï¼‰ãŒé–‹ãã¾ã™ã€‚ã“ã“ã§ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’æ“ä½œã—ãªãŒã‚‰ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å‹•ç”»ã®ä»•ä¸ŠãŒã‚Šã‚’ç¢ºèªã§ãã¾ã™ã€‚

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºæœ¬æ§‹æˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```
my-video/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆregisterRootï¼‰
â”‚   â”œâ”€â”€ Root.tsx          # Compositionã®ç™»éŒ²
â”‚   â”œâ”€â”€ MyComposition.tsx # å‹•ç”»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ public/               # é™çš„ã‚¢ã‚»ãƒƒãƒˆï¼ˆç”»åƒã€ãƒ•ã‚©ãƒ³ãƒˆãªã©ï¼‰
â”œâ”€â”€ remotion.config.ts    # Remotionè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆsrc/index.tsï¼‰

```typescript
import { registerRoot } from "remotion";
import { RemotionRoot } from "./Root";

registerRoot(RemotionRoot);
```

`registerRoot()`ã¯Remotionã«å¯¾ã—ã¦ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹é–¢æ•°ã§ã™ã€‚ã“ã‚ŒãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚

### remotion.config.ts

```typescript
import { Config } from "@remotion/cli/config";

Config.setVideoImageFormat("jpeg");  // ä¸­é–“ç”»åƒå½¢å¼ï¼ˆjpegã®æ–¹ãŒé«˜é€Ÿï¼‰
Config.setOverwriteOutput(true);     // å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸Šæ›¸ãã‚’è¨±å¯
```

## 3. æœ€åˆã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â€” Composition, useCurrentFrame, useVideoConfig

### Root.tsx â€” å‹•ç”»ã®ç™»éŒ²

Remotionã§ã¯ã™ã¹ã¦ã®Compositionï¼ˆå‹•ç”»å®šç¾©ï¼‰ã‚’`Root.tsx`ã«ç™»éŒ²ã—ã¾ã™ã€‚

```tsx
import { Composition } from "remotion";
import { MyVideo } from "./MyVideo";

export const RemotionRoot: React.FC = () => {
  return (
    <>
      <Composition
        id="MyVideo"
        component={MyVideo}
        durationInFrames={300}  // 10ç§’ï¼ˆ30fps Ã— 10ï¼‰
        fps={30}
        width={1920}
        height={1080}
        defaultProps={{
          title: "Hello Remotion",
        }}
      />
    </>
  );
};
```

`Composition`ã¯å‹•ç”»ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆè§£åƒåº¦ã€FPSã€é•·ã•ï¼‰ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç´ã¥ã‘ã‚‹å®£è¨€ã§ã™ã€‚`id`ã¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«å‹•ç”»ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ä½¿ã„ã¾ã™ã€‚

### useCurrentFrame â€” æ™‚é–“ã‚’çŸ¥ã‚‹

`useCurrentFrame()`ã¯ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ç•ªå·ã‚’è¿”ã™ãƒ•ãƒƒã‚¯ã§ã™ã€‚ã“ã‚ŒãŒ**Remotionã«ãŠã‘ã‚‹æ™‚é–“ã®åŸºæœ¬å˜ä½**ã§ã™ã€‚

```tsx
import { useCurrentFrame, useVideoConfig, AbsoluteFill } from "remotion";

export const MyVideo: React.FC<{ title: string }> = ({ title }) => {
  const frame = useCurrentFrame();
  const { fps, durationInFrames, width, height } = useVideoConfig();

  // ãƒ•ãƒ¬ãƒ¼ãƒ ç•ªå·ã‹ã‚‰ç§’æ•°ã‚’è¨ˆç®—
  const seconds = frame / fps;

  // ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¿œã˜ã¦é€æ˜åº¦ã‚’å¤‰åŒ–ã•ã›ã‚‹
  const opacity = Math.min(1, frame / 30); // æœ€åˆã®1ç§’ã§ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³

  return (
    <AbsoluteFill
      style={{
        backgroundColor: "#0f0f23",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <h1
        style={{
          color: "white",
          fontSize: 80,
          opacity,
          fontFamily: "Inter, sans-serif",
        }}
      >
        {title}
      </h1>
      <p style={{ color: "#888", fontSize: 24 }}>
        {seconds.toFixed(1)}ç§’ / ãƒ•ãƒ¬ãƒ¼ãƒ  {frame} / {durationInFrames}
      </p>
    </AbsoluteFill>
  );
};
```

### useVideoConfig â€” å‹•ç”»ã®è¨­å®šã‚’å–å¾—

`useVideoConfig()`ã¯Compositionã§å®šç¾©ã—ãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãƒ•ãƒƒã‚¯ã§ã™ã€‚

```tsx
const { fps, durationInFrames, width, height } = useVideoConfig();
```

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã›ãšã€å¸¸ã«ã“ã®ãƒ•ãƒƒã‚¯ã‹ã‚‰å€¤ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã€è§£åƒåº¦ã‚„FPSã®å¤‰æ›´ã«å¼·ã„è¨­è¨ˆã«ãªã‚Šã¾ã™ã€‚

## 4. ã‚·ãƒ¼ãƒ³è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ â€” IntroScene / ContentScene / OutroScene

å®Ÿç”¨çš„ãªå‹•ç”»ã¯è¤‡æ•°ã®ã‚·ãƒ¼ãƒ³ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚Remotionã§ã¯`<Sequence>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ã¦ã‚·ãƒ¼ãƒ³ã‚’æ™‚ç³»åˆ—ã«é…ç½®ã—ã¾ã™ã€‚

### Sequenceã«ã‚ˆã‚‹ã‚·ãƒ¼ãƒ³åˆ†å‰²

```tsx
import { Sequence, AbsoluteFill } from "remotion";
import { IntroScene } from "./scenes/IntroScene";
import { ContentScene } from "./scenes/ContentScene";
import { OutroScene } from "./scenes/OutroScene";

type VideoProps = {
  title: string;
  content: string;
};

export const MainVideo: React.FC<VideoProps> = ({ title, content }) => {
  return (
    <AbsoluteFill>
      {/* 0ã€œ89ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3ç§’é–“ï¼‰: ã‚¤ãƒ³ãƒˆãƒ­ */}
      <Sequence from={0} durationInFrames={90}>
        <IntroScene title={title} />
      </Sequence>

      {/* 90ã€œ269ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ6ç§’é–“ï¼‰: ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
      <Sequence from={90} durationInFrames={180}>
        <ContentScene content={content} />
      </Sequence>

      {/* 270ã€œ359ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆ3ç§’é–“ï¼‰: ã‚¢ã‚¦ãƒˆãƒ­ */}
      <Sequence from={270} durationInFrames={90}>
        <OutroScene />
      </Sequence>
    </AbsoluteFill>
  );
};
```

:::message
**é‡è¦:** `<Sequence>`ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã¯ã€`useCurrentFrame()`ã¯**ãã®Sequenceã®å…ˆé ­ã‚’0ã¨ã—ã¦**ãƒ•ãƒ¬ãƒ¼ãƒ ç•ªå·ã‚’è¿”ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å„ã‚·ãƒ¼ãƒ³ã¯ç‹¬ç«‹ã—ãŸæ™‚é–“è»¸ã‚’æŒã¡ã€å†åˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
:::

### ã‚·ãƒ¼ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…ä¾‹

```tsx
// scenes/IntroScene.tsx
import { useCurrentFrame, AbsoluteFill, interpolate } from "remotion";

export const IntroScene: React.FC<{ title: string }> = ({ title }) => {
  const frame = useCurrentFrame(); // Sequenceå†…ãªã®ã§0ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ

  const titleY = interpolate(frame, [0, 30], [50, 0], {
    extrapolateRight: "clamp",
  });

  const opacity = interpolate(frame, [0, 20], [0, 1], {
    extrapolateRight: "clamp",
  });

  return (
    <AbsoluteFill
      style={{
        backgroundColor: "#1a1a2e",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <h1
        style={{
          color: "#e94560",
          fontSize: 72,
          opacity,
          transform: `translateY(${titleY}px)`,
        }}
      >
        {title}
      </h1>
    </AbsoluteFill>
  );
};
```

### ã‚·ãƒ¼ãƒ³é•·ã‚’å®šæ•°ã§ç®¡ç†ã™ã‚‹

ã‚·ãƒ¼ãƒ³ã®é•·ã•ãŒæ•£åœ¨ã™ã‚‹ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå¤§å¤‰ã«ãªã‚Šã¾ã™ã€‚å®šæ•°ã§ä¸€å…ƒç®¡ç†ã—ã¾ã—ã‚‡ã†ã€‚

```tsx
// constants/timing.ts
export const SCENE_DURATIONS = {
  intro: 90,     // 3ç§’
  content: 180,  // 6ç§’
  outro: 90,     // 3ç§’
} as const;

export const TOTAL_DURATION =
  Object.values(SCENE_DURATIONS).reduce((a, b) => a + b, 0);

// ä½¿ç”¨å´
import { SCENE_DURATIONS, TOTAL_DURATION } from "./constants/timing";
```

## 5. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ â€” spring(), interpolate(), Sequence

### interpolate() â€” ç·šå½¢è£œé–“

`interpolate()`ã¯Remotionã®æœ€ã‚‚åŸºæœ¬çš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã§ã™ã€‚å…¥åŠ›å€¤ã®ç¯„å›²ã‚’å‡ºåŠ›å€¤ã®ç¯„å›²ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã™ã€‚

```tsx
import { interpolate, useCurrentFrame } from "remotion";

const frame = useCurrentFrame();

// ãƒ•ãƒ¬ãƒ¼ãƒ 0ã€œ30ã§ã€é€æ˜åº¦ã‚’0â†’1ã«å¤‰åŒ–
const opacity = interpolate(frame, [0, 30], [0, 1], {
  extrapolateLeft: "clamp",
  extrapolateRight: "clamp",
});

// ãƒ•ãƒ¬ãƒ¼ãƒ 0ã€œ30ã§ã€Xåº§æ¨™ã‚’-100â†’0ã«å¤‰åŒ–ï¼ˆå·¦ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ï¼‰
const translateX = interpolate(frame, [0, 30], [-100, 0], {
  extrapolateRight: "clamp",
});
```

`extrapolateRight: "clamp"`ã‚’æŒ‡å®šã—ãªã„ã¨ã€ãƒ•ãƒ¬ãƒ¼ãƒ 30ä»¥é™ã‚‚å€¤ãŒå¢—ãˆç¶šã‘ã‚‹ã®ã§ã€ã»ã¼å¸¸ã«æŒ‡å®šã—ã¾ã™ã€‚

### spring() â€” ç‰©ç†ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

`spring()`ã¯ãƒãƒã®ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«åŸºã¥ãã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ã§ã™ã€‚è‡ªç„¶ãªå‹•ãã‚’ç°¡å˜ã«å®Ÿç¾ã§ãã¾ã™ã€‚

```tsx
import { spring, useCurrentFrame, useVideoConfig } from "remotion";

const frame = useCurrentFrame();
const { fps } = useVideoConfig();

// 0ã‹ã‚‰1ã«å‘ã‹ã£ã¦ãƒãƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
const scale = spring({
  frame,
  fps,
  config: {
    damping: 12,    // æ¸›è¡°ï¼ˆå¤§ãã„ã»ã©æ—©ãåæŸï¼‰
    stiffness: 100, // ç¡¬ã•ï¼ˆå¤§ãã„ã»ã©é€Ÿã„ï¼‰
    mass: 0.5,      // è³ªé‡ï¼ˆå¤§ãã„ã»ã©é‡ã„å‹•ãï¼‰
  },
});

return (
  <div style={{ transform: `scale(${scale})` }}>
    ãƒãƒƒãƒ—ã‚¤ãƒ³ï¼
  </div>
);
```

### spring()ã¨interpolate()ã®çµ„ã¿åˆã‚ã›

`spring()`ã¯0â†’1ã®å€¤ã‚’è¿”ã™ã®ã§ã€`interpolate()`ã¨çµ„ã¿åˆã‚ã›ã¦ä»»æ„ã®ç¯„å›²ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã§ãã¾ã™ã€‚

```tsx
const springValue = spring({ frame, fps });

// spring(0â†’1) ã‚’ Yåº§æ¨™(-200â†’0)ã«ãƒãƒƒãƒ”ãƒ³ã‚°
const translateY = interpolate(springValue, [0, 1], [-200, 0]);

// spring(0â†’1) ã‚’å›è»¢(90degâ†’0deg)ã«ãƒãƒƒãƒ”ãƒ³ã‚°
const rotate = interpolate(springValue, [0, 1], [90, 0]);
```

### å®Ÿç”¨çš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå¤§ãããªã‚‹ã¨ã€åŒã˜ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½•åº¦ã‚‚æ›¸ãã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£åŒ–ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚

```tsx
// utils/animations.ts
import { spring, interpolate, useCurrentFrame, useVideoConfig } from "remotion";

type FadeDirection = "up" | "down" | "left" | "right";

export function useFadeIn(delay: number = 0, direction: FadeDirection = "up") {
  const frame = useCurrentFrame();
  const { fps } = useVideoConfig();

  const adjustedFrame = Math.max(0, frame - delay);

  const springVal = spring({
    frame: adjustedFrame,
    fps,
    config: { damping: 15, stiffness: 80 },
  });

  const opacity = interpolate(springVal, [0, 1], [0, 1]);

  const directionMap: Record<FadeDirection, { x: number; y: number }> = {
    up: { x: 0, y: 30 },
    down: { x: 0, y: -30 },
    left: { x: 30, y: 0 },
    right: { x: -30, y: 0 },
  };

  const { x, y } = directionMap[direction];
  const translateX = interpolate(springVal, [0, 1], [x, 0]);
  const translateY = interpolate(springVal, [0, 1], [y, 0]);

  return {
    opacity,
    transform: `translate(${translateX}px, ${translateY}px)`,
  };
}

// ä½¿ç”¨ä¾‹
const MyComponent: React.FC = () => {
  const fadeStyle = useFadeIn(10, "up"); // 10ãƒ•ãƒ¬ãƒ¼ãƒ é…å»¶ã§ä¸‹ã‹ã‚‰ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
  return <div style={fadeStyle}>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ããƒ†ã‚­ã‚¹ãƒˆ</div>;
};
```

## 6. å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿é€£æº â€” JSON/APIã‹ã‚‰ã®å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ

Remotionã®çœŸä¾¡ã¯**ãƒ‡ãƒ¼ã‚¿é§†å‹•ã®å‹•ç”»ç”Ÿæˆ**ã«ã‚ã‚Šã¾ã™ã€‚åŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æµã—è¾¼ã‚€ã“ã¨ã§ã€å¤§é‡ã®å‹•ç”»ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ã«ç”Ÿæˆã§ãã¾ã™ã€‚

### inputPropsã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ³¨å…¥

æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªæ–¹æ³•ã¯ã€Compositionã®`defaultProps`ã¨CLIã®`--props`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚

```tsx
// Root.tsx
import { Composition } from "remotion";
import { NewsVideo } from "./NewsVideo";
import { newsSchema } from "./schemas";

export const RemotionRoot: React.FC = () => {
  return (
    <Composition
      id="NewsVideo"
      component={NewsVideo}
      durationInFrames={450}
      fps={30}
      width={1920}
      height={1080}
      schema={newsSchema}
      defaultProps={{
        headline: "ã‚µãƒ³ãƒ—ãƒ«ãƒ‹ãƒ¥ãƒ¼ã‚¹",
        body: "ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚",
        author: "ç·¨é›†éƒ¨",
        publishedAt: "2026-01-01",
      }}
    />
  );
};
```

Remotion v4ä»¥é™ã§ã¯**Zod Schema**ã§propsã‚’å‹å®‰å…¨ã«å®šç¾©ã§ãã¾ã™ã€‚

```tsx
// schemas.ts
import { z } from "zod";

export const newsSchema = z.object({
  headline: z.string(),
  body: z.string(),
  author: z.string(),
  publishedAt: z.string(),
});

export type NewsProps = z.infer<typeof newsSchema>;
```

CLIã§ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼š

```bash
npx remotion render NewsVideo out/news.mp4 \
  --props='{"headline":"é€Ÿå ±: Remotion v4æœ€æ–°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ","body":"...","author":"Techç·¨é›†éƒ¨","publishedAt":"2026-02-01"}'
```

### calculateMetadata â€” å‹•çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿

ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦å‹•ç”»ã®é•·ã•ã‚’å‹•çš„ã«å¤‰ãˆãŸã„å ´åˆã¯ã€`calculateMetadata`ã‚’ä½¿ã„ã¾ã™ã€‚

```tsx
import { Composition, CalculateMetadataFunction } from "remotion";

type Props = {
  slides: Array<{ title: string; content: string; durationSec: number }>;
};

const calculateMetadata: CalculateMetadataFunction<Props> = async ({
  props,
}) => {
  const totalFrames = props.slides.reduce(
    (sum, slide) => sum + slide.durationSec * 30,
    0
  );

  return {
    durationInFrames: totalFrames,
    props, // propsã‚’åŠ å·¥ã—ã¦è¿”ã™ã“ã¨ã‚‚å¯èƒ½
  };
};

// Compositionã§æŒ‡å®š
<Composition
  id="SlideVideo"
  component={SlideVideo}
  calculateMetadata={calculateMetadata}
  fps={30}
  width={1920}
  height={1080}
  defaultProps={{
    slides: [
      { title: "ã‚¹ãƒ©ã‚¤ãƒ‰1", content: "å†…å®¹1", durationSec: 5 },
      { title: "ã‚¹ãƒ©ã‚¤ãƒ‰2", content: "å†…å®¹2", durationSec: 3 },
    ],
  }}
/>
```

### JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ä¸€æ‹¬ç”Ÿæˆ

å®Ÿè·µã§ã¯ã€JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã—ã¦ãƒãƒƒãƒå‡¦ç†ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤šã„ã§ã™ã€‚

```json
// data/episodes.json
[
  {
    "id": "ep001",
    "headline": "AIãŒå¤‰ãˆã‚‹å‹•ç”»åˆ¶ä½œã®æœªæ¥",
    "body": "ç”ŸæˆAIã¨è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã®å°é ­ã«ã‚ˆã‚Š...",
    "author": "ç”°ä¸­å¤ªéƒ"
  },
  {
    "id": "ep002",
    "headline": "Webã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æœ€å‰ç·š",
    "body": "WCAG 3.0ã®ç­–å®šãŒé€²ã‚€ä¸­...",
    "author": "éˆ´æœ¨èŠ±å­"
  }
]
```

```bash
#!/bin/bash
# render-all.sh â€” JSONã‹ã‚‰ãƒãƒƒãƒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

EPISODES=$(cat data/episodes.json)
COUNT=$(echo "$EPISODES" | jq length)

for i in $(seq 0 $(($COUNT - 1))); do
  EPISODE=$(echo "$EPISODES" | jq -c ".[$i]")
  ID=$(echo "$EPISODE" | jq -r ".id")

  echo "Rendering $ID..."
  npx remotion render NewsVideo "out/${ID}.mp4" \
    --props="$EPISODE"
done

echo "Done! Rendered $COUNT videos."
```

## 7. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â€” CLIã§ã®å‹•ç”»å‡ºåŠ›ã€ãƒãƒƒãƒå‡¦ç†

### åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```bash
# MP4ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
npx remotion render MyVideo out/video.mp4

# ç‰¹å®šã®ãƒ•ãƒ¬ãƒ¼ãƒ ç¯„å›²ã ã‘ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆãƒ‡ãƒãƒƒã‚°ã«ä¾¿åˆ©ï¼‰
npx remotion render MyVideo out/clip.mp4 \
  --frames=0-90

# è§£åƒåº¦ã‚’å¤‰æ›´ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
npx remotion render MyVideo out/video-720p.mp4 \
  --scale=0.667
```

### ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³

ã‚ˆãä½¿ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¾ã¨ã‚ã¾ã™ï¼š

```bash
npx remotion render MyVideo out/video.mp4 \
  --codec=h264          # ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ï¼ˆh264, h265, vp8, vp9, proresï¼‰
  --crf=18              # å“è³ªï¼ˆå°ã•ã„ã»ã©é«˜å“è³ªã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ã«ã‚ˆã‚‹ï¼‰
  --concurrency=4       # ä¸¦åˆ—ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ•°ï¼ˆCPUã‚³ã‚¢æ•°ã«åˆã‚ã›ã‚‹ï¼‰
  --pixel-format=yuv420p # SNSäº’æ›ã®ãƒ”ã‚¯ã‚»ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  --props='...'         # å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
  --log=verbose         # ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ­ã‚°
```

:::message alert
**SNSæŠ•ç¨¿å‘ã‘ã®æ³¨æ„:** Twitterã‚„Instagramã«æŠ•ç¨¿ã™ã‚‹å ´åˆã€`--pixel-format=yuv420p`ã‚’æŒ‡å®šã—ãªã„ã¨å†ç”Ÿã§ããªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€è§£åƒåº¦ã¯å¶æ•°ã«ã—ã¦ãã ã•ã„ï¼ˆå¥‡æ•°ã ã¨ffmpegãŒã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼‰ã€‚
:::

### Node.js APIã«ã‚ˆã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

CLIã ã‘ã§ãªãã€Node.js APIã‹ã‚‰ç›´æ¥ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Webã‚µãƒ¼ãƒãƒ¼ã‚„ãƒãƒƒãƒå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ ã«çµ„ã¿è¾¼ã‚ã¾ã™ã€‚

```typescript
// scripts/render.ts
import { bundle } from "@remotion/bundler";
import { renderMedia, selectComposition } from "@remotion/renderer";
import path from "path";

async function renderVideo(props: Record<string, unknown>) {
  // Webpackãƒãƒ³ãƒ‰ãƒ«
  const bundleLocation = await bundle({
    entryPoint: path.resolve("./src/index.ts"),
    webpackOverride: (config) => config,
  });

  // Compositionã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  const composition = await selectComposition({
    serveUrl: bundleLocation,
    id: "MyVideo",
    inputProps: props,
  });

  // ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å®Ÿè¡Œ
  await renderMedia({
    composition,
    serveUrl: bundleLocation,
    codec: "h264",
    outputLocation: `out/${props.id}.mp4`,
    inputProps: props,
    onProgress: ({ progress }) => {
      console.log(`Progress: ${(progress * 100).toFixed(1)}%`);
    },
  });

  console.log("Render complete!");
}

// ä½¿ç”¨ä¾‹
renderVideo({
  id: "video-001",
  title: "Hello World",
  content: "This is a test video",
});
```

### GitHub Actionsã§ã®è‡ªå‹•ç”Ÿæˆ

CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å‹•ç”»ç”Ÿæˆã‚’çµ„ã¿è¾¼ã‚€ä¾‹ã§ã™ã€‚

```yaml
# .github/workflows/render-videos.yml
name: Render Videos
on:
  push:
    paths:
      - "data/episodes.json"

jobs:
  render:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: 20

      - run: npm ci

      - name: Install Chrome dependencies
        run: npx remotion browser ensure

      - name: Render videos
        run: bash render-all.sh

      - uses: actions/upload-artifact@v4
        with:
          name: videos
          path: out/*.mp4
```

## 8. å®Ÿè·µä¾‹: å°†æ£‹æ£‹è­œè§£èª¬å‹•ç”»ã®è‡ªå‹•ç”Ÿæˆï¼ˆmirushogiäº‹ä¾‹ï¼‰

ã“ã“ã‹ã‚‰ã¯ã€ç­†è€…ãŒå®Ÿéš›ã«é–‹ç™ºã—ãŸ**mirushogi**ï¼ˆå°†æ£‹æ£‹è­œè§£èª¬å‹•ç”»ã®è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼‰ã§ã®å®Ÿè·µçŸ¥è¦‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### mirushogiã®æ¦‚è¦

mirushogiã¯ã€ãƒ—ãƒ­æ£‹æˆ¦ã®æ£‹è­œãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ç›¤é¢ã®æ¨ç§»ãƒ»å½¢å‹¢ã‚°ãƒ©ãƒ•ãƒ»è§£èª¬ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚€å‹•ç”»ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

```
æ£‹è­œãƒ‡ãƒ¼ã‚¿ï¼ˆKIF/CSAï¼‰ â†’ ãƒ‘ãƒ¼ã‚¹ â†’ ã‚·ãƒ¼ãƒ³æ§‹ç¯‰ â†’ Remotionãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ MP4
```

### ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ

æ£‹è­œãƒ‡ãƒ¼ã‚¿ã‚’å‹•ç”»ç”¨ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«å¤‰æ›ã™ã‚‹ã¨ã“ã‚ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

```typescript
// types/shogi.ts
type Move = {
  moveNumber: number;
  player: "sente" | "gote";
  piece: string;
  to: { row: number; col: number };
  from?: { row: number; col: number };
  promotion?: boolean;
  comment?: string;
};

type GameData = {
  title: string;
  players: {
    sente: { name: string; title?: string };
    gote: { name: string; title?: string };
  };
  moves: Move[];
  evaluation?: number[];  // å„æ‰‹ã®è©•ä¾¡å€¤
  result: "sente_win" | "gote_win" | "draw";
};

// Remotionã«æ¸¡ã™props
type VideoProps = {
  game: GameData;
  style: "full" | "highlights";  // å…¨æ‰‹ or ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  bgm?: string;
};
```

### ã‚·ãƒ¼ãƒ³æ§‹æˆ

å°†æ£‹å‹•ç”»ã¯ä»¥ä¸‹ã®ã‚·ãƒ¼ãƒ³ã§æ§‹æˆã—ã¦ã„ã¾ã™ã€‚

```tsx
export const ShogiVideo: React.FC<VideoProps> = ({ game, style }) => {
  const scenes = useMemo(() => buildScenes(game, style), [game, style]);

  let currentFrame = 0;

  return (
    <AbsoluteFill>
      {/* ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ */}
      <Sequence from={currentFrame} durationInFrames={scenes.intro.duration}>
        <TitleScene
          title={game.title}
          sente={game.players.sente}
          gote={game.players.gote}
        />
      </Sequence>

      {/* å„æ‰‹ã®ã‚·ãƒ¼ãƒ³ */}
      {scenes.moves.map((moveScene, i) => {
        const from = scenes.intro.duration + scenes.moves
          .slice(0, i)
          .reduce((sum, s) => sum + s.duration, 0);

        return (
          <Sequence key={i} from={from} durationInFrames={moveScene.duration}>
            <MoveScene
              move={moveScene.move}
              boardState={moveScene.boardState}
              evaluation={moveScene.evaluation}
              comment={moveScene.comment}
            />
          </Sequence>
        );
      })}

      {/* çµæœç”»é¢ */}
      <Sequence
        from={scenes.totalDuration - scenes.outro.duration}
        durationInFrames={scenes.outro.duration}
      >
        <ResultScene result={game.result} players={game.players} />
      </Sequence>
    </AbsoluteFill>
  );
};
```

### ç›¤é¢ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

å°†æ£‹ç›¤ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ç´”ç²‹ãªReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚CSSã‚°ãƒªãƒƒãƒ‰ã§9Ã—9ãƒã‚¹ã‚’æç”»ã—ã€é§’ã‚’SVGã¾ãŸã¯ãƒ•ã‚©ãƒ³ãƒˆã§é…ç½®ã—ã¾ã™ã€‚

```tsx
const ShogiBoard: React.FC<{ boardState: BoardState; lastMove?: Move }> = ({
  boardState,
  lastMove,
}) => {
  return (
    <div
      style={{
        display: "grid",
        gridTemplateColumns: "repeat(9, 64px)",
        gridTemplateRows: "repeat(9, 64px)",
        border: "2px solid #8B4513",
        backgroundColor: "#DEB887",
      }}
    >
      {boardState.cells.map((row, r) =>
        row.map((cell, c) => (
          <div
            key={`${r}-${c}`}
            style={{
              border: "1px solid #8B4513",
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              backgroundColor:
                lastMove?.to.row === r && lastMove?.to.col === c
                  ? "#FFE4B5"  // æœ€çµ‚æ‰‹ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                  : "transparent",
            }}
          >
            {cell && (
              <span
                style={{
                  fontSize: 36,
                  transform: cell.player === "gote" ? "rotate(180deg)" : "none",
                }}
              >
                {cell.display}
              </span>
            )}
          </div>
        ))
      )}
    </div>
  );
};
```

### å½¢å‹¢ã‚°ãƒ©ãƒ•ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

å„æ‰‹ã”ã¨ã®è©•ä¾¡å€¤ã‚’æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã—ã€æ‰‹ãŒé€²ã‚€ã«ã¤ã‚Œã¦ã‚°ãƒ©ãƒ•ãŒä¼¸ã³ã¦ã„ãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

```tsx
const EvaluationGraph: React.FC<{
  evaluations: number[];
  currentMove: number;
}> = ({ evaluations, currentMove }) => {
  const frame = useCurrentFrame();
  const { fps } = useVideoConfig();

  // è¡¨ç¤ºã™ã‚‹è©•ä¾¡å€¤ï¼ˆç¾åœ¨ã®æ‰‹ã¾ã§ï¼‰
  const visibleEvals = evaluations.slice(0, currentMove + 1);

  // SVGãƒ‘ã‚¹ã‚’æ§‹ç¯‰
  const points = visibleEvals.map((eval_, i) => {
    const x = (i / evaluations.length) * 400;
    // è©•ä¾¡å€¤ã‚’-2000ã€œ+2000ã®ç¯„å›²ã§æ­£è¦åŒ–
    const y = 100 - (Math.max(-2000, Math.min(2000, eval_)) / 2000) * 100;
    return `${x},${y}`;
  });

  const pathD = `M ${points.join(" L ")}`;

  return (
    <svg width={400} height={200} style={{ backgroundColor: "#1a1a2e" }}>
      {/* ä¸­å¤®ç·šï¼ˆäº’è§’ï¼‰ */}
      <line x1={0} y1={100} x2={400} y2={100} stroke="#444" strokeWidth={1} />
      {/* è©•ä¾¡å€¤ã®æŠ˜ã‚Œç·š */}
      <path d={pathD} fill="none" stroke="#00ff88" strokeWidth={2} />
    </svg>
  );
};
```

### å‹•çš„ãªå‹•ç”»é•·ã®è¨ˆç®—

æ£‹è­œã®æ‰‹æ•°ã«ã‚ˆã£ã¦å‹•ç”»ã®é•·ã•ãŒå¤‰ã‚ã‚‹ãŸã‚ã€`calculateMetadata`ã§å‹•çš„ã«è¨ˆç®—ã—ã¾ã™ã€‚

```tsx
const calculateShogiMetadata: CalculateMetadataFunction<VideoProps> = async ({
  props,
}) => {
  const scenes = buildScenes(props.game, props.style);

  return {
    durationInFrames: scenes.totalDuration,
    fps: 30,
    props,
  };
};
```

## 9. Tips & è½ã¨ã—ç©´

Remotionã‚’å®Ÿãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ã†ä¸­ã§é­é‡ã—ãŸå•é¡Œã¨è§£æ±ºç­–ã‚’ã¾ã¨ã‚ã¾ã™ã€‚

### ãƒ•ã‚©ãƒ³ãƒˆã®èª­ã¿è¾¼ã¿

**å•é¡Œ:** ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯è¡¨ç¤ºã•ã‚Œã‚‹ãƒ•ã‚©ãƒ³ãƒˆãŒã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«è±†è…ï¼ˆâ–¡ï¼‰ã«ãªã‚‹ã€‚

**è§£æ±º:** `@remotion/google-fonts`ã‚’ä½¿ã†ã‹ã€`staticFile()`ã§æ˜ç¤ºçš„ã«ãƒ•ã‚©ãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚

```tsx
// Google Fontsã‚’ä½¿ã†å ´åˆï¼ˆæ¨å¥¨ï¼‰
import { loadFont } from "@remotion/google-fonts/NotoSansJP";

const { fontFamily } = loadFont();

// staticFileã‚’ä½¿ã†å ´åˆ
import { staticFile, continueRender, delayRender } from "remotion";

const waitForFont = delayRender();
const font = new FontFace("MyFont", `url(${staticFile("fonts/MyFont.woff2")})`);
font.load().then(() => {
  document.fonts.add(font);
  continueRender(waitForFont);
});
```

:::message alert
**æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã¯å¿…ãšæ˜ç¤ºçš„ã«ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚** ç’°å¢ƒã«ã‚ˆã£ã¦ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆãŒç•°ãªã‚‹ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ã¨CI/Lambdaç’°å¢ƒã§è¦‹ãŸç›®ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚
:::

### delayRender / continueRender â€” éåŒæœŸå‡¦ç†ã®å¾…æ©Ÿ

ç”»åƒã‚„ãƒ•ã‚©ãƒ³ãƒˆã€APIãƒ‡ãƒ¼ã‚¿ãªã©ã€éåŒæœŸã§èª­ã¿è¾¼ã‚€ãƒªã‚½ãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆã¯`delayRender()`ã‚’ä½¿ã„ã¾ã™ã€‚

```tsx
import { delayRender, continueRender } from "remotion";
import { useCallback, useEffect, useState } from "react";

export const DataDrivenScene: React.FC = () => {
  const [data, setData] = useState<Data | null>(null);
  const [handle] = useState(() => delayRender("Fetching data..."));

  useEffect(() => {
    fetchData()
      .then((result) => {
        setData(result);
        continueRender(handle);
      })
      .catch((err) => {
        console.error(err);
        continueRender(handle); // ã‚¨ãƒ©ãƒ¼ã§ã‚‚å¿…ãšcontinueRenderã‚’å‘¼ã¶
      });
  }, [handle]);

  if (!data) return null;

  return <div>{/* dataã‚’ä½¿ã£ãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° */}</div>;
};
```

:::message alert
**`continueRender()`ã‚’å‘¼ã³å¿˜ã‚Œã‚‹ã¨ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒæ°¸ä¹…ã«ãƒãƒ³ã‚°ã—ã¾ã™ã€‚** ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä¸­ã§ã‚‚å¿…ãšå‘¼ã¶ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯åˆå¿ƒè€…ãŒæœ€ã‚‚ãƒãƒã‚‹ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
:::

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**1. ç”»åƒã®äº‹å‰èª­ã¿è¾¼ã¿**

```tsx
import { Img, staticFile } from "remotion";

// <Img>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯delayRender/continueRenderã‚’å†…è”µ
<Img src={staticFile("background.jpg")} />

// é€šå¸¸ã®<img>ã‚¿ã‚°ã ã¨èª­ã¿è¾¼ã¿å‰ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¦ã—ã¾ã†
// âŒ <img src={staticFile("background.jpg")} />
```

**2. é‡ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¡ãƒ¢åŒ–**

```tsx
import { useMemo } from "react";

// ç›¤é¢ã®çŠ¶æ…‹è¨ˆç®—ãªã©é‡ã„å‡¦ç†ã¯ãƒ¡ãƒ¢åŒ–
const boardState = useMemo(
  () => computeBoardState(moves, currentMoveIndex),
  [moves, currentMoveIndex]
);
```

**3. concurrencyã®èª¿æ•´**

```bash
# CPUã‚³ã‚¢æ•° Ã· 2 ç¨‹åº¦ãŒç›®å®‰
# ãƒ¡ãƒ¢ãƒªä¸è¶³ã®å ´åˆã¯ä¸‹ã’ã‚‹
npx remotion render MyVideo out.mp4 --concurrency=4
```

### éŸ³å£°åŒæœŸ

BGMã‚„åŠ¹æœéŸ³ã‚’å‹•ç”»ã«å«ã‚ã‚‹å ´åˆã¯`<Audio>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã„ã¾ã™ã€‚

```tsx
import { Audio } from "@remotion/media";
import { staticFile, Sequence } from "remotion";

<Audio src={staticFile("bgm.mp3")} volume={0.3} />

{/* ç‰¹å®šã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§åŠ¹æœéŸ³ */}
<Sequence from={60}>
  <Audio src={staticFile("se-move.mp3")} volume={0.8} />
</Sequence>
```

:::message
**`<Audio>`ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆå…ƒã«ã¤ã„ã¦:** Remotion v4ä»¥é™ã€`<Audio>`ã¯`@remotion/media`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚`remotion`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`<Audio>`ï¼ˆç¾åœ¨ã¯`<Html5Audio>`ï¼‰ã‚‚å‹•ä½œã—ã¾ã™ãŒã€`@remotion/media`ç‰ˆã¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ã‚ˆã‚Šæ­£ç¢ºãªéŸ³å£°æŠ½å‡ºã‚’è¡Œã„ã¾ã™ã€‚
:::

**æ³¨æ„ç‚¹ï¼š**
- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¯`public/`ã«é…ç½®ã—ã€`staticFile()`ã§å‚ç…§
- `volume`ã¯0ã€œ1ã§æŒ‡å®šï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ã«å¿œã˜ã¦å‹•çš„ã«å¤‰æ›´å¯èƒ½ï¼‰
- MP3ã¾ãŸã¯WAVå½¢å¼ãŒå®‰å®š

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | å¯¾å‡¦ |
|--------|------|------|
| `delayRender timed out` | `continueRender()`ã®å‘¼ã³å¿˜ã‚Œ | catchå†…ã§ã‚‚å¿…ãšå‘¼ã¶ |
| `Could not find composition` | idã®ä¸ä¸€è‡´ | Root.tsxã®idç¢ºèª |
| è±†è…æ–‡å­—ï¼ˆâ–¡ï¼‰ | ãƒ•ã‚©ãƒ³ãƒˆæœªãƒ­ãƒ¼ãƒ‰ | `@remotion/google-fonts`ä½¿ç”¨ |
| å‡ºåŠ›ãŒçœŸã£é»’ | CSSã®å•é¡Œ or ãƒ‡ãƒ¼ã‚¿æœªãƒ­ãƒ¼ãƒ‰ | `--frames=0-1`ã§1ãƒ•ãƒ¬ãƒ¼ãƒ ã ã‘ç¢ºèª |
| ãƒ¡ãƒ¢ãƒªä¸è¶³ | concurrencyãŒé«˜ã™ãã‚‹ | `--concurrency=2`ã«ä¸‹ã’ã‚‹ |

## 10. ã¾ã¨ã‚ â€” å‹•ç”»è‡ªå‹•åŒ–ã®å¯èƒ½æ€§

æœ¬è¨˜äº‹ã§è§£èª¬ã—ãŸå†…å®¹ã‚’æŒ¯ã‚Šè¿”ã‚Šã¾ã™ã€‚

| ç«  | å­¦ã‚“ã ã“ã¨ |
|----|-----------|
| Remotionã¨ã¯ | React = å‹•ç”»ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ å˜ä½ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° |
| ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | `create-video`ã§å³åº§ã«ã‚¹ã‚¿ãƒ¼ãƒˆ |
| åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | `useCurrentFrame`ã§æ™‚é–“ã‚’ã€`Composition`ã§å®šç¾©ã‚’ç®¡ç† |
| ã‚·ãƒ¼ãƒ³è¨­è¨ˆ | `Sequence`ã§æ™‚ç³»åˆ—ã‚’åˆ†å‰²ã€å†åˆ©ç”¨å¯èƒ½ãªã‚·ãƒ¼ãƒ³è¨­è¨ˆ |
| ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ | `interpolate()`ã¨`spring()`ã§å®£è¨€çš„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒ‡ãƒ¼ã‚¿é€£æº | `inputProps`ã¨Zod Schemaã§å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿é§†å‹•ç”Ÿæˆ |
| ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | CLI/Node.js API/GitHub Actionsã§ã®è‡ªå‹•åŒ– |
| å®Ÿè·µä¾‹ | å°†æ£‹å‹•ç”»ã§ã®ç›¤é¢æç”»ãƒ»å½¢å‹¢ã‚°ãƒ©ãƒ•ãƒ»å‹•çš„é•·ã•è¨ˆç®— |
| Tips | ãƒ•ã‚©ãƒ³ãƒˆãƒ»éåŒæœŸå‡¦ç†ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è½ã¨ã—ç©´ |

### RemotionãŒå‘ã„ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

- **å®šå‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‹•ç”»ã®å¤§é‡ç”Ÿæˆ**ï¼ˆãƒ‹ãƒ¥ãƒ¼ã‚¹ã€å•†å“ç´¹ä»‹ã€ãƒ¬ãƒãƒ¼ãƒˆï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³å‹•ç”»**ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€çµ±è¨ˆï¼‰
- **æ•™è‚²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**ï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è§£èª¬ã€æ£‹è­œè§£èª¬ï¼‰
- **SNSç”¨ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã®è‡ªå‹•ç”Ÿæˆ**
- **OGPå‹•ç”»**ï¼ˆãƒ–ãƒ­ã‚°è¨˜äº‹ã®ã‚µãƒ ãƒã‚¤ãƒ«å‹•ç”»ç‰ˆï¼‰

### ä»Šå¾Œã®å±•æœ›

Remotionã¯æ´»ç™ºã«é–‹ç™ºãŒç¶šã‘ã‚‰ã‚Œã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªé€²åŒ–ãŒæœŸå¾…ã•ã‚Œã¾ã™ã€‚

- **Remotion Lambda**ã®æ›´ãªã‚‹æœ€é©åŒ–ï¼ˆåˆ†æ•£ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰
- **Remotion Studio**ã®é€²åŒ–ï¼ˆéã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰å‹•ç”»ä½œæˆã€‚Editor Starterãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚‚å…¬é–‹æ¸ˆã¿ï¼‰
- **ãƒ–ãƒ©ã‚¦ã‚¶å†…ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**ï¼ˆWebCodecs / Mediabunnyã¨ã®çµ±åˆã«ã‚ˆã‚‹æ–°ã—ã„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
- **AIé€£æº**ï¼ˆLLMã§ç”Ÿæˆã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ã®è‡ªå‹•å‹•ç”»ç”Ÿæˆã€‚å…¬å¼ã®LLMã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚‚æä¾›ï¼‰

ã€Œå‹•ç”»ã‚’ã‚³ãƒ¼ãƒ‰ã§æ›¸ãã€ã¨ã„ã†æ¦‚å¿µã¯ã€ã¾ã å¤šãã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«å±Šã„ã¦ã„ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€å‹•ç”»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®éœ€è¦ãŒå¢—ãˆç¶šã‘ã‚‹ä¸­ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ–ãƒ«ãªå‹•ç”»ç”Ÿæˆã¯ç¢ºå®Ÿã«ãƒ‹ãƒ¼ã‚ºãŒæ‹¡å¤§ã—ã¦ã„ãåˆ†é‡ã§ã™ã€‚

ãœã²Remotionã§ã€ã‚ãªãŸã ã‘ã®å‹•ç”»è‡ªå‹•ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

**å‚è€ƒãƒªãƒ³ã‚¯:**
- [Remotionå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.remotion.dev/docs/)
- [Remotion GitHub](https://github.com/remotion-dev/remotion)
- [Remotion ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé›†](https://www.remotion.dev/templates)
