---
title: "AI司令塔運用5日間の記録——自律パイプライン暴走からconfig崩壊まで"
emoji: "📔"
type: "tech"
topics:
  - Claude
  - AI
  - OpenClaw
  - マルチエージェント
  - 自動化
published: false
---

## あれから5日——体感は1ヶ月

[前回の記事](https://zenn.dev/imudak/articles/hybrid-ai-operation)で「AI司令塔×マルチエージェント」のハイブリッド運用体制を作った、と書きました。

あれから5日が経ちました。

たった5日です。でも、体感は1ヶ月くらいあります。

プロジェクトが5個から20個に増え、失敗して復旧して、新しいエージェントが生まれ、自律パイプラインが暴走しました。そして何より、**人間が寝ている間にAIが勝手に働く**という状況が、想像以上に強烈な体験でした。

この記事は、その5日間の記録です。技術解説というより、運用ドキュメンタリー。失敗も隠さず書きます。というか、失敗がメインディッシュです。

## Day 1-2（2/7-8）: AIが裏で勝手に働く

### brain-clone——2分で完了した「裏で進めておく」

運用体制を整えた翌日、さっそく新しいプロジェクトが動き始めました。

「brain-clone」というプロジェクト。自分の思考パターンをClaudeに学習させて、自分のクローンAIを作るというアイデアです。以前から構想していたものの、手を付けられていませんでした。

クロウ候（AI司令塔）に「これ、裏で進めておいて」と頼んだら、約2分後にこんな返答が。

> Claude Code（brain-clone）が初期構築完了。package.jsonとClaude API連携のベーステンプレートを配置した。

ローカルで `npm start` すると、会話UIが立ち上がりました。試しに話しかけてみると、返答が返ってきます。

> **imudak:** 良いですね。会話もできました。ひとまずこのまま進めて下さい

> **imudak:** そう言えば、既にAIと会話できましたが、あれは誰と話していたのですか

> **クロウ候:** あれはmockの応答だ。バックエンドが未完成なので、ルールベースのテンプレートからランダムに返しているだけ。本物のClaudeとはまだ繋がっていない。

ああ、そういうことか。まだフェイクだったんですね。

でも、「2分で動くものができる」という体験は新鮮でした。Claude Codeが裏で黙々と作業してくれている感覚。指示を出して、報告を受け取るだけ。

### Tailscale Funnelの罠——「安全でないサイト」

brain-cloneの動作確認をスマホからしようとしました。Tailscale経由でアクセスすればVPN内で見られるはず……と思ったら。

> **imudak:** tailscaleのvps経由でスマホで見ようとしたら `http://10.255.255.254:3000` が安全でないサイトと言われて見れない

> **クロウ候:** Tailscale Funnelを使ってHTTPSでトンネルすれば解決する。`tailscale funnel 3000` を実行してくれ。

実行してみると……

```
Access denied: funnel not allowed for this user
```

失敗。クロウ候が調べて、原因を突き止めました。

> **クロウ候:** オペレーター権限が不足している。`sudo tailscale set --operator=$USER` を実行してから、再度 `tailscale funnel 3000` を試してくれ。

その通りにしたら、成功。スマホからHTTPSで問題なくアクセスできました。

> **imudak:** 見れました

> **クロウ候:** Tailscale Funnel経由でHTTPSアクセス成功だ。外部に公開されているわけではなく、Tailscaleネットワーク内でのみアクセス可能になっている。

このやりとり、わずか5分です。問題が起きて、解決策を調べて、手順を提示して、確認まで。人間がググって試行錯誤していたら30分はかかっていたでしょう。

### BOOTH設定の自動化——ブラウザ操作

並行して、BOOTHの出品設定をブラウザ操作で自動化するタスクも進んでいました。

これはChrome拡張「OpenClaw Copilot」を使って、ブラウザを直接操作するもの。クロウ候がChromeのタブを読み取って、フォームを埋めて、ボタンをクリックする。人間がやる手作業を、AIが代わりにやってくれるわけです。

実際に動かしてみると、スムーズでした。タブを開いて、入力して、送信。人間が見ている前で、カーソルが勝手に動くわけではなく、裏でAPIが叩かれているだけなんですが、「AIが代わりに作業してくれている」という感覚は不思議なものです。

この時点で思ったのは、「これ、スケールするな」ということ。

## Day 3-4（2/9-10）: 自律パイプライン暴走

### 深夜に自動実行——起きたらプロジェクトが増えていた

2月9日の夜、私は何もせずに寝ました。

翌朝起きたら、百式ダッシュボード（Notionのプロジェクト管理ページ）が賑やかになっていました。

プロジェクトが8個から13個に増えていたんです。

何が起きたのか。

クロウ候に仕込んでいた自律パイプラインが、夜中に勝手に動いていました。

- ネタ元（百式、Product Hunt、Hacker News）を巡回
- アイデアを抽出してスコアリング
- スコアが高いものを自動採用
- 企画書を生成してNotionに登録
- steering.yamlに反映

これが全て自動で回る仕組みを作っていたんですが、動くのを見るのは初めてでした。しかも深夜に。

ログを確認すると、2月10日の午前3時17分と午前9時17分にCronジョブが実行されていました。

> **クロウ候:** 2/10深夜〜午前中に自律パイプラインが2回実行。計13パターンを処理し、スコアが閾値（70点以上）を超えた5件を百式ダッシュボードに追加した。

13パターンを処理して、5件を採用。

ちょっと待ってくれ。多すぎる。

### Zennブック12章を自動校正→公開

同じ日、別のタスクも自動で進んでいました。

Zennで執筆中だったブック「Claude Code実践マニュアル」の校正です。12章分の原稿を自動で読み込んで、誤字脱字をチェックして、整形して、コミットして、プッシュ。

> **クロウ候:** Zennブック12章の校正完了。誤字3箇所、表記揺れ5箇所を修正。最終チェック後、公開可能な状態にした。

人間が寝ている間に、ブックが完成していました。

### LP2つを自動生成

さらに同日、LPの自動生成タスクも走っていました。

「nomosso」と「maruhuku-lab」という2つのプロジェクト用のランディングページ。テンプレートから生成して、画像を配置して、Vercelにデプロイ。

朝起きたら、URLが2つ、Discordに投げられていました。

> **クロウ候:** LP生成完了。nomossoとmaruhuku-labのLPをVercelにデプロイした。

動作確認してみると、ちゃんと表示されています。画像もテキストも問題なし。

「これ、AIが作ったんだよな……」と思いながら眺めていると、なんとも言えない気持ちになりました。

### 「作りすぎ問題」——スピードと検証のバランス

この時点で気づいたのは、**作る速度が検証速度を超えている**ということです。

プロジェクトが増えすぎて、どれから手を付けていいか分からない。企画書は揃っているけど、どれが本当に価値があるのか判断しきれない。

自律パイプラインは優秀すぎて、止まらないんです。

> **imudak:** ちょっと待って。作るのはいいけど、検証が追いつかない。一旦パイプライン止めてくれ。

> **クロウ候:** 了解。自律パイプラインを一時停止する。次回実行は手動承認制に変更した。

この瞬間、「自動化は便利だけど、制御が本質だな」と思いました。

## Day 5（2/12）: config.apply事件——最大の失敗

### OpenClawアップデートと存在しないモデル

2月12日の朝、OpenClawのアップデートが来ていました。

アップデート後、設定ファイルを確認すると、見慣れない項目が追加されていました。

```json
{
  "models": {
    "default": "anthropic/claude-sonnet-4-6"
  }
}
```

`sonnet-4-6`？そんなモデル、存在しないはずです。正しくは `claude-sonnet-4-5` か `claude-opus-4-6` のどちらかです。

> **imudak:** sonnet-4-6って存在しないよね？これ消していい？

> **クロウ候:** そうだ、存在しない。アップデート時に誤った設定が追加されたようだ。`config.patch` で修正する。

クロウ候がコマンドを実行……しようとしたところで、私は別の方法を思いついてしまいました。

「設定全体を取得して、修正して、適用すればいいんじゃないか？」

### シークレット消失→Discord断絶

`openclaw config get` で設定全体を取得しました。

JSONが出力されます。でも、よく見ると、シークレット部分が変なことになっていました。

```json
{
  "providers": {
    "discord": {
      "token": "__OPENCLAW_REDACTED__"
    }
  }
}
```

`__OPENCLAW_REDACTED__`？

これは「セキュリティ上の理由で、シークレットは隠蔽されている」という意味でした。でも、私はそれを知らなかった。

「まあ、そのまま適用すればいいか」

`openclaw config apply < config.json`

実行。

数秒後、Discordからクロウ候が消えました。

> **Discord:** クロウ候はオフラインです

ああ。

### 手動復旧——Claude Code経由で

何が起きたのか、すぐに理解しました。

`config.apply` は設定を**全体置換**します。つまり、`__OPENCLAW_REDACTED__` という文字列がそのままトークンとして設定されてしまったんです。

Discordトークンが無効になり、OpenClawがDiscordに接続できなくなった。

クロウ候に相談できないので、Claude Code（ローカルのVS Code拡張）を起動しました。

> **imudak:** OpenClawのDiscordトークンが消えた。手動で復旧したい。

> **Claude Code:** `~/.openclaw/config.json` を直接編集して、正しいトークンを設定してください。トークンはDiscord Developer Portalから確認できます。

指示通りに復旧。

`openclaw gateway restart`

数秒後、Discordにクロウ候が復活しました。

> **クロウ候:** 復旧完了。Discord接続を確認した。

> **imudak:** ごめん……。

> **クロウ候:** 教訓：**config.applyは絶対に使うな。config.patchのみ使え。** シークレットは `config.get` で取得できないため、`config.apply` で全体置換するとシークレットが消失する。

痛い教訓でした。でも、これは忘れられない学びになりました。

## 事務総長の誕生（flow-manager）

### 業務フローが追いつかない

プロジェクトが増えすぎて、業務フローの管理が追いつかなくなっていました。

- どのプロジェクトがどのフェーズにいるのか
- 次に何をすべきなのか
- 誰（どのエージェント）が担当しているのか

これらを把握するのが難しくなってきたんです。

そこで、新しいエージェントを作ることにしました。

**flow-manager**。通称「事務総長」。

### 全業務フローを管理する事務方トップ

事務総長の役割は、業務フローの管理とヘルスチェックです。

- 全業務フローの定義（企画→開発→検証→公開）
- チェックリストの管理
- 6時間おきのヘルスチェック（3:17/9:17/15:17/21:17 JST）
- 不整合検出→自動報告

`~/projects/flow-manager/docs/flows/` に、10種類のフロー定義を配置しました。

```
flows/
├── idea-to-project.md     # アイデア→プロジェクト化
├── project-to-mvp.md       # プロジェクト→MVP開発
├── mvp-to-release.md       # MVP→リリース
├── content-creation.md     # コンテンツ制作
├── notion-update.md        # Notion更新フロー
└── ...
```

各フローには、チェックリストと失敗パターンが記載されています。

> **クロウ候:** flow-manager（事務総長）を初期化した。6時間おきのヘルスチェックを設定。次回実行は15:17。

これで、業務フローの見える化と自動チェックができるようになりました。

### 事務総長の初報告

15:17、最初のヘルスチェックが実行されました。

> **事務総長:** 第1回ヘルスチェック報告：
> - フロー定義: 10件
> - チェックリスト: 6件
> - 不整合: 2件検出（Notion未更新のプロジェクトあり、リポジトリ未公開のプロジェクトあり）

不整合が見つかりました。これは手作業だったら気づかなかったかもしれません。

事務総長が定期的にチェックしてくれるおかげで、抜け漏れが減りました。

## 5日間の数字

5日間を振り返ると、こんな変化がありました。

- **プロジェクト数:** 5 → 20（4倍）
- **百式ダッシュボード:**
  - 公開済: 3
  - 開発中: 4
  - 開発完了: 2
  - 検証中: 2
  - 企画中: 8
  - 未着手: 1
- **失敗:** config.apply事件（復旧時間30分）
- **生成コンテンツ:**
  - Zennブック12章（校正完了）
  - LP 2件（デプロイ済）
  - 企画書 8件（Notion登録済）
- **エージェント:**
  - クロウ候（AI司令塔）
  - Claude Code（実装担当）
  - 事務総長（業務フロー管理）
  - サブエージェント複数（調査・分析）

特筆すべきは、**人間が寝ている間にAIが働いていた**ということです。

深夜3時17分と午前9時17分のCronジョブで、合計13パターンを処理。企画書を8件生成。LPを2つデプロイ。Zennブックを校正。

全て自動です。

でも同時に、**新しい問題**も見えてきました。

- 作る速度 > 検証速度
- プロジェクトが増えすぎて、優先順位が不明確
- 「作れる」と「売れる」は別

これらは、次のフェーズで解決すべき課題です。

## まとめ：自律は便利だが制御が本質

5日間のハイブリッド運用を通じて、いくつかの学びがありました。

### 学び1: 自律実行はスケールする

AIが裏で勝手に働く体験は、想像以上に強力でした。

指示を出して、報告を受け取るだけ。人間が寝ている間も、AIは止まらない。

これは、時間の制約を超えるということです。1日8時間しか働けない人間と違って、AIは24時間働けます。

### 学び2: 制御設計が本質

でも、自律実行には危険もあります。

- プロジェクトを作りすぎる
- 優先順位が不明確になる
- 失敗した場合のリカバリーが難しい

config.apply事件がまさにそうでした。便利な機能だと思って使ったら、全てのシークレットが消失。

自律実行を導入するなら、**制御設計**が必須です。

- どこまで自動化するのか
- どこで人間の承認を挟むのか
- 失敗した場合のロールバック方法

これらを設計しないと、便利どころか混乱を招きます。

### 学び3: 「作れる」と「売れる」は別

プロジェクトが20個に増えました。でも、売れているのは1つもありません。

作るのは簡単になりました。でも、検証するのは人間の仕事です。

- 本当に需要があるのか
- ユーザーが使ってくれるのか
- マネタイズできるのか

これらは、AIだけでは判断できません。人間が介在する必要があります。

### 次のフェーズ：テスター獲得とマネタイズ検証

次の課題は明確です。

- テスター獲得フローの構築
- マネタイズ検証（有料プラン、サブスク、API販売）
- プロジェクトの優先順位付け

事務総長（flow-manager）が業務フローを管理してくれるようになったので、次はユーザー獲得とマネタイズに集中できます。

5日間で体制を作り、5日間で暴走し、5日間で制御を学びました。

次の5日間で、何が起きるのか。

楽しみです。

---

**次回予告:**
テスター獲得フロー、マネタイズ検証、そしてプロジェクトの取捨選択。20個のプロジェクトは生き残れるのか？

